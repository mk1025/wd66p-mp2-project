(()=>{"use strict";var e={913:(e,t,o)=>{var n=o(929),s=o(377);document.addEventListener("DOMContentLoaded",(function(){var e;const t={request:"login",token:null!==(e=sessionStorage.getItem("token"))&&void 0!==e?e:""};$.ajax({type:"POST",url:n.C2,data:"session="+JSON.stringify(t),success:function(e){console.log("Successful Response: ",e),JSON.parse(e).data.redirect&&(window.location.href=n.rO)},error:function(e,t,o){console.log("XHR Status: ",e.status),console.log("XHR Text: ",e.responseText),console.log("Status: ",t),console.error("Error: ",o),(0,s.Z)(JSON.parse(e.responseText))}})}))},377:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(929);const s=document.getElementById("Homepage_Button"),r=document.getElementById("email_username"),a=document.getElementById("password"),l=document.getElementById("login_button"),c=document.getElementById("alert"),d=document.getElementById("spinner");function i(e,t){e?(c.classList.remove("hidden"),c.querySelector("span").innerText=t):(c.classList.add("hidden"),d.classList.add("hidden"))}function u(e){var t;sessionStorage.setItem("token",null!==(t=e.data.token)&&void 0!==t?t:""),400===e.status&&i(!0,e.message),e.data.user&&(window.location.href=n.s6),e.data.redirect&&(window.location.href=n.rO)}l.addEventListener("click",(function(){const e=r.value,t=a.value;return e.length&&t.length?(i(!1,""),function(){d.classList.remove("hidden");let e={credential:r.value.toLowerCase(),password:a.value};$.ajax({type:"POST",url:n.C2,data:"login="+JSON.stringify(e),success:function(e){console.log("Successful Response: ",e),u(JSON.parse(e))},error:function(e,t,o){console.log("XHR Status: ",e.status),console.log("XHR Text: ",e.responseText),console.log("Status: ",t),console.error("Error: ",o),u(JSON.parse(e.responseText))}}),d.classList.add("hidden")}()):i(!0,"Please enter the missing fields")})),s.addEventListener("click",(()=>{window.location.href=n.s6}))},929:(e,t,o)=>{o.d(t,{C2:()=>n,rO:()=>r,s6:()=>s});const n="../../api/login.php",s="../../",r="../classrecords"}},t={};function o(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o(377),o(913)})();